<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.23">
<title>Failure Management</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/darshandsoni/asciidoctor-skins/css/material-teal.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">


</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>Failure Management</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_test_reliability">Test Reliability</a>
<ul class="sectlevel2">
<li><a href="#_use_playbooks_to_investigate_failures">Use playbooks to investigate failures</a></li>
<li><a href="#_perform_post_incident_analysis">Perform post-incident analysis</a></li>
<li><a href="#_test_resiliency_using_chaos_engineering">Test resiliency using chaos engineering</a></li>
<li><a href="#_conduct_game_days_regularly">Conduct game days regularly</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_test_reliability"><a href="https://docs.aws.amazon.com/wellarchitected/latest/reliability-pillar/test-reliability.html">Test Reliability</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_use_playbooks_to_investigate_failures">Use playbooks to investigate failures</h3>
<div class="paragraph">
<p>Enable consistent and prompt responses to failure scenarios that are not well understood, by documenting the investigation process in playbooks. Playbooks are the predefined steps performed to identify the factors contributing to a failure scenario. The results from any process step are used to determine the next steps to take until the issue is identified or escalated.</p>
</div>
<div class="paragraph">
<p>The playbook is proactive planning that you must do, so as to be able to take reactive actions effectively. When failure scenarios not covered by the playbook are encountered in production, first address the issue (put out the fire). Then go back and look at the steps you took to address the issue and use these to add a new entry in the playbook.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
playbooks are used in response to specific incidents, while runbooks are used to achieve specific outcomes. Often, runbooks are used for routine activities and playbooks are used to respond to non-routine events.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_perform_post_incident_analysis">Perform post-incident analysis</h3>
<div class="paragraph">
<p>Review customer-impacting events, and identify the contributing factors and preventative action items. Use this information to develop mitigations to limit or prevent recurrence. Develop procedures for prompt and effective responses. Communicate contributing factors and corrective actions as appropriate, tailored to target audiences.</p>
</div>
<div class="paragraph">
<p>Assess why existing testing did not find the issue. Add tests for this case if tests do not already exist.</p>
</div>
</div>
<div class="sect2">
<h3 id="_test_resiliency_using_chaos_engineering">Test resiliency using chaos engineering</h3>
<div class="paragraph">
<p>Run tests that inject failures regularly into pre-production and production environments. Hypothesize how your workload will react to the failure, then compare your hypothesis to the testing results and iterate if they do not match. Ensure that production testing does not impact users.</p>
</div>
<div class="paragraph">
<p>In the cloud, you can test how your workload fails, and you can validate your recovery procedures. Use automation to simulate different failures or to recreate scenarios that led to failures before. This exposes failure pathways that you can test and fix before a real failure scenario occurs, thus reducing risk.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
Chaos Engineering is the discipline of experimenting on a system in order to build confidence in the system’s capability to withstand turbulent conditions in production. – <a href="https://principlesofchaos.org/">Principles of Chaos Engineering</a>
</td>
</tr>
</table>
</div>
<div class="literalblock">
<div class="content">
<pre>In pre-production and testing environments, chaos engineering should be done regularly, and be part of your CI/CD cycle. Chaos engineering in production is encouraged, however teams must take care not to disrupt availability for customers.</pre>
</div>
</div>
<div class="paragraph">
<p>Test for component failures that you have designed your workload to be resilient against. These include loss of EC2 instances, failure of the primary Amazon RDS database instance, and Availability Zone outages.</p>
</div>
<div class="paragraph">
<p>Test for external dependency unavailability. Your workload’s resiliency to transient failures of dependencies should be tested for durations that may last from less than a second to hours.</p>
</div>
<div class="paragraph">
<p>Other modes of degradation might cause reduced functionality and slow responses, often resulting in a brownout of your services. Common sources of this degradation are increased latency on critical services and unreliable network communication (dropped packets). Test for these failures, including networking effects, such as latency and dropped messages, as well as DNS failures, such as being unable to resolve a name or not being able to establish connections to dependent services.</p>
</div>
<div class="paragraph">
<p>AWS Fault Injection Simulator (AWS FIS) is a fully managed service for running fault injection experiments that can be used as part of your CD pipeline, during game days, or ad hoc. It supports gradually and simultaneously impairing performance of different types of resources including Amazon EC2, Amazon ECS, Amazon EKS, and Amazon RDS. It can also stress CPU or memory on your workload in AWS. Since it is integrated with Amazon CloudWatch Alarms, you can set guardrails to rollback a test if it causes unexpected impact.</p>
</div>
<div id="img-aws-fis" class="imageblock">
<div class="content">
<img src="./images/aws-fis-architecture.png" alt="aws fis architecture">
</div>
<div class="title">Figure 1. AWS Fault Injection Simulator (AWS FIS) integrates with AWS resources to enable you to run fault injection experiments for your workloads.</div>
</div>
<div class="paragraph">
<p>There are also several third-party options for fault injection experiments. These include open source options such as <a href="https://chaostoolkit.org/">The Chaos ToolKit</a>, and <a href="https://github.com/Shopify/toxiproxy">Shopify Toxiproxy</a>, as well as commercial options like <a href="https://www.gremlin.com/">Gremlin</a>. For organizations new to chaos engineering, it can build confidence to first use self-authored scripts. This enables engineering teams to become comfortable with how chaos is introduced into their workloads. For examples of these, see <a href="https://wellarchitectedlabs.com/Reliability/300_Testing_for_Resiliency_of_EC2_RDS_and_S3/README.html">Testing for Resiliency of EC2 RDS and S3</a> using multiple languages such as a Bash, Python, Java, and PowerShell. You can also implement Injecting Chaos to Amazon EC2 using AWS Systems Manager, which enables you to simulate brownouts and high CPU conditions using AWS Systems Manager Documents.</p>
</div>
</div>
<div class="sect2">
<h3 id="_conduct_game_days_regularly">Conduct game days regularly</h3>
<div class="paragraph">
<p>Use game days to regularly exercise your procedures for responding to events and failures as close to production as possible (including in production environments) with the people who will be involved in actual failure scenarios. Game days enforce measures to ensure that production events do not impact users.</p>
</div>
<div class="paragraph">
<p>Game days simulate a failure or event to test systems, processes, and team responses. The purpose is to actually perform the actions the team would perform as if an exceptional event happened. This will help you understand where improvements can be made and can help develop organizational experience in dealing with events. These should be conducted regularly so that your team builds "muscle memory" on how to respond.</p>
</div>
<div class="paragraph">
<p>After your design for resiliency is in place and has been tested in non-production environments, a game day is the way to ensure that everything works as planned in production. A game day, especially the first one, is an “all hands on deck” activity where engineers and operations are all informed when it will happen, and what will occur. Runbooks are in place. Simulated events are executed, including possible failure events, in the production systems in the prescribed manner, and impact is assessed. If all systems operate as designed, detection and self-healing will occur with little to no impact. However, if negative impact is observed, the test is rolled back and the workload issues are remedied, manually if necessary (using the runbook). Since game days often take place in production, all precautions should be taken to ensure that there is no impact on availability to your customers.</p>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2025-06-22 13:10:08 UTC
</div>
</div>
</body>
</html>