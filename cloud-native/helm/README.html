<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.23">
<title>helm</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/darshandsoni/asciidoctor-skins/css/material-teal.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">


</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>helm</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_template_development">template development</a>
<ul class="sectlevel2">
<li><a href="#_template_development_notes">Template development notes</a></li>
</ul>
</li>
<li><a href="#_helm_best_practices">helm best practices</a>
<ul class="sectlevel2">
<li><a href="#_ensure_secrets_are_secure">Ensure Secrets Are Secure</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_template_development">template development</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_template_development_notes">Template development notes</h3>
<div class="paragraph">
<p><a href="template-dev.adoc">Helm template development notes</a></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_helm_best_practices">helm best practices</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="https://codersociety.com/blog/articles/helm-best-practices">13 Best Practices for using Helm</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_ensure_secrets_are_secure">Ensure Secrets Are Secure</h3>
<div class="paragraph">
<p>Sensitive data, such as keys or passwords, are stored as secrets in Kubernetes. Although it is possible to secure secrets on the Kubernetes side, they are mostly stored as text files as part of Helm templates and values.</p>
</div>
<div class="paragraph">
<p>The helm-secrets plugin offers secret management and protection for your critical information. It delegates the secret encryption to Mozilla SOPS, which supports AWS KMS, Cloud KMS on GCP, Azure Key Vault, and PGP.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s assume youâ€™ve collected your sensitive data in a file named secrets.yaml as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">postgresql:
  postgresqlUsername: postgres
  postgresqlPassword: WoZpCAlBsg
  postgresqlDatabase: wp</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can encrypt the file with the plugin:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ helm secrets enc secrets.yaml
Encrypting secrets.yaml
Encrypted secrets.yaml</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now, the file will be updated and all values will be encrypted:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">postgresql:
    postgresqlUsername: ENC\[AES256\_GCM,data:D14/CcA3WjY=,iv...==,type:str\]
    postgresqlPassword: ENC\[AES256\_GCM,data:Wd7VEKSoqV...,type:str\]
    postgresqlDatabase: ENC\[AES256\_GCM,data:8ur9pqDxUA==,iv:R...,type:str\]
sops:
  ...</code></pre>
</div>
</div>
<div class="paragraph">
<p>The data in secrets.yaml above was not secure and helm-secrets solves the problem of storing sensitive data as part of Helm charts.</p>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2025-06-22 13:10:08 UTC
</div>
</div>
</body>
</html>