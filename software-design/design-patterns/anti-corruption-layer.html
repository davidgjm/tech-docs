<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.23">
<title>Anti-corruption Layer pattern</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/darshandsoni/asciidoctor-skins/css/material-teal.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">


</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>Anti-corruption Layer pattern</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_context_and_problem">Context and problem</a></li>
<li><a href="#_solution">Solution</a></li>
<li><a href="#_issues_and_considerations">Issues and considerations</a></li>
<li><a href="#_when_to_use_this_pattern">When to use this pattern</a></li>
<li><a href="#_related_guidance">Related guidance</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Implement a fa√ßade or adapter layer between different subsystems that don&#8217;t share the same semantics. This layer translates requests that one subsystem makes to the other subsystem. Use this pattern to ensure that an application&#8217;s design is not limited by dependencies on outside subsystems. This pattern was first described by Eric Evans in <em>Domain-Driven Design</em>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_context_and_problem">Context and problem</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Most applications rely on other systems for some data or functionality. For example, when a legacy application is migrated to a modern system, it may still need existing legacy resources. New features must be able to call the legacy system. This is especially true of gradual migrations, where different features of a larger application are moved to a modern system over time.</p>
</div>
<div class="paragraph">
<p>Often these legacy systems suffer from quality issues such as convoluted data schemas or obsolete APIs. The features and technologies used in legacy systems can vary widely from more modern systems. To interoperate with the legacy system, the new application may need to support outdated infrastructure, protocols, data models, APIs, or other features that you wouldn&#8217;t otherwise put into a modern application.</p>
</div>
<div class="paragraph">
<p>Maintaining access between new and legacy systems can force the new system to adhere to at least some of the legacy system&#8217;s APIs or other semantics. When these legacy features have quality issues, supporting them "corrupts" what might otherwise be a cleanly designed modern application.</p>
</div>
<div class="paragraph">
<p>Similar issues can arise with any external system that your development team doesn&#8217;t control, not just legacy systems.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_solution">Solution</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Isolate the different subsystems by placing an anti-corruption layer between them. This layer translates communications between the two systems, allowing one system to remain unchanged while the other can avoid compromising its design and technological approach.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/anti-corruption-layer.png" alt="anti corruption layer">
</div>
</div>
<div class="paragraph">
<p>The diagram above shows an application with two subsystems. Subsystem A calls to subsystem B through an anti-corruption layer. Communication between subsystem A and the anti-corruption layer always uses the data model and architecture of subsystem A. Calls from the anti-corruption layer to subsystem B conform to that subsystem&#8217;s data model or methods. The anti-corruption layer contains all of the logic necessary to translate between the two systems. The layer can be implemented as a component within the application or as an independent service.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_issues_and_considerations">Issues and considerations</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>The anti-corruption layer may add latency to calls made between the two systems.</p>
</li>
<li>
<p>The anti-corruption layer adds an additional service that must be managed and maintained.</p>
</li>
<li>
<p>Consider how your anti-corruption layer will scale.</p>
</li>
<li>
<p>Consider whether you need more than one anti-corruption layer. You may want to decompose functionality into multiple services using different technologies or languages, or there may be other reasons to partition the anti-corruption layer.</p>
</li>
<li>
<p>Consider how the anti-corruption layer will be managed in relation with your other applications or services. How will it be integrated into your monitoring, release, and configuration processes?</p>
</li>
<li>
<p>Make sure transaction and data consistency are maintained and can be monitored.</p>
</li>
<li>
<p>Consider whether the anti-corruption layer needs to handle all communication between different subsystems, or just a subset of features.</p>
</li>
<li>
<p>If the anti-corruption layer is part of an application migration strategy, consider whether it will be permanent, or will be retired after all legacy functionality has been migrated.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_when_to_use_this_pattern">When to use this pattern</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Use this pattern when:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A migration is planned to happen over multiple stages, but integration between new and legacy systems needs to be maintained.</p>
</li>
<li>
<p>Two or more subsystems have different semantics, but still need to communicate.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This pattern may not be suitable if there are no significant semantic differences between new and legacy systems.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_related_guidance">Related guidance</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="strangler-fig.html">Strangler Fig pattern</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2025-06-22 13:10:08 UTC
</div>
</div>
</body>
</html>